{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Notification.js","components/PersonDetail.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","searchName","handleSearchChange","react_default","a","createElement","value","onChange","PersonForm","props","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","style","PersonDetail","person","handleDeletePerson","name","number","onClick","Persons","persons","filteredPerson","filter","toLowerCase","includes","trim","personDisplay","map","components_PersonDetail","key","id","console","log","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchName","_useState9","_useState10","sucessMessage","setSucessMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","personService","initialPersons","components_Notification","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","components_Filter","e","target","components_PersonForm","preventDefault","personObj","duplicatePerson","find","window","confirm","returnedData","setTimeout","catch","error","returnedPerson","components_Persons","result","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9e9fbfe0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ searchName, handleSearchChange }) => {\r\n  return (\r\n    <div>\r\n      filter with\r\n      <input value={searchName} onChange={handleSearchChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = props => {\r\n  const {\r\n    addName,\r\n    newName,\r\n    handleNameChange,\r\n    newNumber,\r\n    handleNumberChange\r\n  } = props;\r\n\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, style }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div style={style}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst PersonDetail = ({ person, handleDeletePerson }) => {\r\n  return (\r\n    <p>\r\n      {person.name} {person.number}\r\n      <button onClick={handleDeletePerson}>Delete</button>\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default PersonDetail;\r\n","import React from \"react\";\r\n\r\nimport PersonDetail from \"./PersonDetail\";\r\n\r\nconst Persons = props => {\r\n  const { persons, searchName, handleDeletePerson } = props;\r\n\r\n  const filteredPerson = persons.filter(\r\n    person =>\r\n      searchName === \"\" ||\r\n      person.name.toLowerCase().includes(searchName.toLowerCase().trim())\r\n  );\r\n\r\n  const personDisplay = () =>\r\n    filteredPerson.map(person => (\r\n      <PersonDetail\r\n        key={person.id}\r\n        person={person}\r\n        handleDeletePerson={() => handleDeletePerson(person.id)}\r\n      />\r\n    ));\r\n  return (\r\n    <div>\r\n      {personDisplay()}\r\n      {console.log(personDisplay())}\r\n      {console.log(filteredPerson)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst createPerson = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst updatePerson = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, createPerson, deletePerson, updatePerson };\r\n","import React, { useState, useEffect } from \"react\";\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\n\nimport Notification from \"./components/Notification\";\nimport Persons from \"./components/Persons\";\n\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\" \");\n  const [newNumber, setNewNumber] = useState(\" \");\n  const [searchName, setSearchName] = useState(\" \");\n  const [sucessMessage, setSucessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      console.log(initialPersons);\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const sucessStyle = {\n    color: \"green\",\n    background: \"lightgrey\",\n    fontSize: \"20\",\n    borderStyle: \"solid\",\n    borderRadius: \"5\",\n    padding: \"10\",\n    marginBottom: \"10\"\n  };\n\n  const errorStyle = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: \"20\",\n    borderStyle: \"solid\",\n    borderRadius: \"5\",\n    padding: \"10\",\n    marginBottom: \"10\"\n  };\n\n  const handleNameChange = e => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = e => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSearchChange = e => {\n    setSearchName(e.target.value);\n  };\n\n  const addName = e => {\n    e.preventDefault();\n    const personObj = { name: newName, number: newNumber };\n\n    const duplicatePerson = persons.find(\n      person =>\n        person.name.trim().toLowerCase() === personObj.name.trim().toLowerCase()\n    );\n\n    if (duplicatePerson) {\n      const { id } = duplicatePerson;\n\n      const result = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with the new one?`\n      );\n\n      result\n        ? personService\n            .updatePerson(id, personObj)\n            .then(returnedData => {\n              setPersons(\n                persons.map(person =>\n                  person.id !== id ? person : returnedData\n                )\n              );\n              setSucessMessage(`Updated contact ${personObj.name}`);\n              setTimeout(() => {\n                setSucessMessage(null);\n              }, 5000);\n            })\n            .catch(error => {\n              console.log(error);\n              setErrorMessage(\n                `Person '${personObj.name}' was already removed from server`\n              );\n              setTimeout(() => {\n                setErrorMessage(null);\n              }, 5000);\n              setPersons(persons.filter(person => person.id !== id));\n            })\n        : console.log(\"\");\n    } else {\n      personService.createPerson(personObj).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setSucessMessage(`Added new contact ${personObj.name}`);\n        setTimeout(() => {\n          setSucessMessage(null);\n        }, 5000);\n      });\n    }\n\n    setNewName(\" \");\n    setNewNumber(\" \");\n  };\n\n  const handleDeletePerson = id => {\n    console.log(id);\n    const person = persons.find(person => person.id === id);\n    const result = window.confirm(`Delete ${person.name}?`);\n    console.log(result);\n\n    result\n      ? personService\n          .deletePerson(id)\n          .then(returnedData => {\n            console.log(returnedData);\n            setPersons(persons.filter(person => person.id !== id));\n          })\n          .catch(error => {\n            console.log(error);\n            setErrorMessage(\n              `Person '${person.name}' was already removed from server`\n            );\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 5000);\n            setPersons(persons.filter(person => person.id !== id));\n          })\n      : console.log(\"\");\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={sucessMessage} style={sucessStyle} />\n      <Notification message={errorMessage} style={errorStyle} />\n\n      <Filter searchName={searchName} handleSearchChange={handleSearchChange} />\n\n      <h2>add new contact</h2>\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n\n      <Persons\n        persons={persons}\n        searchName={searchName}\n        handleDeletePerson={handleDeletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}